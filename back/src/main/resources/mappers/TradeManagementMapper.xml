<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.dz.back.mapper.TradeManagementMapper">

	<!-- getAllData -->
	<select id="getSearchData" parameterType="java.util.Map"
		resultType="com.dz.back.dto.TradeManagementDTO">
		SELECT *
		FROM bp_manage
		WHERE
		
		<choose>
			<when test="bp_classification == '전체'">
				1 = 1
			</when>
			<otherwise>
				bp_classification = #{bp_classification}
			</otherwise>
		</choose>
		AND
		bp_code LIKE CONCAT('%', #{bp_code}, '%')
		AND
		bp_name LIKE CONCAT('%', #{bp_name}, '%')
	</select>

	<!-- insert -->
	<insert id="insertData" parameterType="TradeManagementDTO">
		INSERT INTO bp_manage
		(bp_classification, bp_name, bp_code, bp_abbreviation, com_reg_num,
		res_reg_num, rep_name, bus_conditions, zip_code, primary_address,
		detailed_address, phone_num, fax_num, home_page, mail_address,
		main_code, country_code, nationality)

		VALUES
		(#{bp_classification}, #{bp_name}, #{bp_code}, #{bp_abbreviation},
		#{com_reg_num},
		#{res_reg_num}, #{rep_name}, #{bus_conditions}, #{zip_code}, #{primary_address},
		#{detailed_address}, #{phone_num}, #{fax_num}, #{home_page},
		#{mail_address},
		#{main_code}, #{country_code}, #{nationality})
	</insert>
</mapper>